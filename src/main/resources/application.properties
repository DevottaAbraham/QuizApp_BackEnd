# ===================================================================
# SERVER
# ===================================================================
server.port=8081

# ===================================================================
# DATABASE (PostgreSQL)
# ===================================================================

spring.datasource.url=jdbc:postgresql://localhost:5432/quizapp
# IMPORTANT: Replace the username and password with your actual PostgreSQL credentials.
spring.datasource.username=postgres
spring.datasource.password=14128
spring.jpa.hibernate.ddl-auto=validate

# ===================================================================
# FLYWAY (Database Migration)
# ===================================================================
# This tells Flyway to create its history table on an existing database.
spring.flyway.baseline-on-migrate=true

# Disable the Open Session in View pattern to avoid potential performance issues in a REST API.
# This ensures that database sessions are closed after the transaction completes in the service layer.
spring.jpa.open-in-view=false


# ===================================================================
# JMX (Java Management Extensions) Configuration
# ===================================================================
# Disable JMX to prevent "InstanceAlreadyExistsException" and live-reload connection
# errors with Spring Boot DevTools. IDEs will use HTTP actuator endpoints instead.
spring.jmx.enabled=false

# ===================================================================
# ACTUATOR
# ===================================================================
# Expose health endpoint over HTTP and disable JMX exposure to prevent conflicts with DevTools hot-reloading.
management.endpoints.web.exposure.include=health,info
management.endpoints.jmx.exposure.exclude=*

# ===================================================================
# SECURITY (JWT)
# ===================================================================
# It is highly recommended to use a more secure, randomly generated key and store it as an environment variable.
# This key is used for signing JWTs.
application.security.jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970

# Token expiration times in milliseconds
# 15 minutes
application.security.jwt.access-token-expiration=900000
# 7 days
application.security.jwt.refresh-token-expiration=604800000

# ===================================================================
# DEVTOOLS
# ===================================================================
# Force DevTools to disable the JMX live-reload connector to prevent connection errors.
spring.devtools.restart.jmx-enabled=false

# ===================================================================
# SETUP
# ===================================================================
# This token is required to create the first admin account.
application.security.admin-setup-token=DEVOTTA ABRAHAM

# ===================================================================
# FILE STORAGE
# ===================================================================
file.upload-dir=./uploads